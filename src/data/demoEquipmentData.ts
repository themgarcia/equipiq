import { Equipment, EquipmentAttachment, EquipmentDocument } from '@/types/equipment';
import { SubscriptionPlan, UsageState } from '@/hooks/useSubscription';

// Demo documents per plan tier
export const DEMO_DOCUMENTS: Record<SubscriptionPlan, Record<string, EquipmentDocument[]>> = {
  free: {
    // No documents on free tier
  },
  professional: {
    'demo-1': [ // Kubota KX040-4 Mini Excavator
      {
        id: 'demo-doc-1',
        equipmentId: 'demo-1',
        fileName: 'Kubota_KX040-4_Operators_Manual.pdf',
        filePath: 'demo/kubota-manual.pdf',
        fileSize: 2500000, // 2.5MB
        fileType: 'application/pdf',
        notes: 'Official operator and maintenance manual',
        uploadedAt: '2022-04-01T00:00:00Z',
      },
      {
        id: 'demo-doc-2',
        equipmentId: 'demo-1',
        fileName: 'Purchase_Invoice_EX001.pdf',
        filePath: 'demo/invoice-ex001.pdf',
        fileSize: 150000, // 150KB
        fileType: 'application/pdf',
        notes: 'Original purchase invoice',
        uploadedAt: '2022-03-15T00:00:00Z',
      },
    ],
    'demo-3': [ // Bobcat S570 Skid Steer
      {
        id: 'demo-doc-3',
        equipmentId: 'demo-3',
        fileName: 'Bobcat_S570_Service_Manual.pdf',
        filePath: 'demo/bobcat-service.pdf',
        fileSize: 5200000, // 5.2MB
        fileType: 'application/pdf',
        notes: 'Service and repair manual',
        uploadedAt: '2021-07-20T00:00:00Z',
      },
    ],
    'demo-2': [ // Ford F-250
      {
        id: 'demo-doc-4',
        equipmentId: 'demo-2',
        fileName: 'F250_Warranty_Certificate.pdf',
        filePath: 'demo/f250-warranty.pdf',
        fileSize: 85000, // 85KB
        fileType: 'application/pdf',
        notes: 'Extended warranty documentation',
        uploadedAt: '2023-01-10T00:00:00Z',
      },
    ],
  },
  business: {
    'demo-1': [
      {
        id: 'demo-doc-1',
        equipmentId: 'demo-1',
        fileName: 'Kubota_KX040-4_Operators_Manual.pdf',
        filePath: 'demo/kubota-manual.pdf',
        fileSize: 2500000,
        fileType: 'application/pdf',
        notes: 'Official operator and maintenance manual',
        uploadedAt: '2022-04-01T00:00:00Z',
      },
      {
        id: 'demo-doc-2',
        equipmentId: 'demo-1',
        fileName: 'Purchase_Invoice_EX001.pdf',
        filePath: 'demo/invoice-ex001.pdf',
        fileSize: 150000,
        fileType: 'application/pdf',
        notes: 'Original purchase invoice',
        uploadedAt: '2022-03-15T00:00:00Z',
      },
      {
        id: 'demo-doc-5',
        equipmentId: 'demo-1',
        fileName: 'Kubota_Service_Record_2024.pdf',
        filePath: 'demo/kubota-service-record.pdf',
        fileSize: 320000,
        fileType: 'application/pdf',
        notes: 'Annual service record - all maintenance completed',
        uploadedAt: '2024-06-15T00:00:00Z',
      },
    ],
    'demo-3': [
      {
        id: 'demo-doc-3',
        equipmentId: 'demo-3',
        fileName: 'Bobcat_S570_Service_Manual.pdf',
        filePath: 'demo/bobcat-service.pdf',
        fileSize: 5200000,
        fileType: 'application/pdf',
        notes: 'Service and repair manual',
        uploadedAt: '2021-07-20T00:00:00Z',
      },
      {
        id: 'demo-doc-6',
        equipmentId: 'demo-3',
        fileName: 'Bobcat_Insurance_Policy.pdf',
        filePath: 'demo/bobcat-insurance.pdf',
        fileSize: 450000,
        fileType: 'application/pdf',
        notes: 'Equipment insurance policy - expires Dec 2025',
        uploadedAt: '2024-01-05T00:00:00Z',
      },
    ],
    'demo-2': [
      {
        id: 'demo-doc-4',
        equipmentId: 'demo-2',
        fileName: 'F250_Warranty_Certificate.pdf',
        filePath: 'demo/f250-warranty.pdf',
        fileSize: 85000,
        fileType: 'application/pdf',
        notes: 'Extended warranty documentation',
        uploadedAt: '2023-01-10T00:00:00Z',
      },
    ],
    'demo-5': [ // CAT 320
      {
        id: 'demo-doc-7',
        equipmentId: 'demo-5',
        fileName: 'CAT_320_Maintenance_Schedule.pdf',
        filePath: 'demo/cat320-maintenance.pdf',
        fileSize: 1800000,
        fileType: 'application/pdf',
        notes: 'Preventive maintenance schedule and checklist',
        uploadedAt: '2020-09-01T00:00:00Z',
      },
      {
        id: 'demo-doc-8',
        equipmentId: 'demo-5',
        fileName: 'CAT_Financing_Agreement.pdf',
        filePath: 'demo/cat320-financing.pdf',
        fileSize: 520000,
        fileType: 'application/pdf',
        notes: 'Original financing agreement - Cat Financial',
        uploadedAt: '2020-08-12T00:00:00Z',
      },
    ],
  },
};

export function getDemoDocumentsForPlan(plan: SubscriptionPlan): Record<string, EquipmentDocument[]> {
  return DEMO_DOCUMENTS[plan] || {};
}

// Demo attachments per plan tier - matches DEMO_USAGE attachment counts
export const DEMO_ATTACHMENTS: Record<SubscriptionPlan, Record<string, EquipmentAttachment[]>> = {
  free: {
    // No attachments on free tier (matches DEMO_USAGE.free.attachmentCount = 0)
  },
  professional: {
    'demo-3': [ // Bobcat S570 Skid Steer
      {
        id: 'demo-att-1',
        equipmentId: 'demo-3',
        name: '72" General Purpose Bucket',
        description: 'Standard dirt bucket with bolt-on edge',
        value: 2800,
        serialNumber: 'BKT-72GP-001',
        createdAt: '2021-07-15T00:00:00Z',
      },
      {
        id: 'demo-att-2',
        equipmentId: 'demo-3',
        name: '48" Pallet Forks',
        description: '4000lb capacity pallet forks',
        value: 1500,
        serialNumber: 'FRK-48-001',
        createdAt: '2021-07-15T00:00:00Z',
      },
    ],
    'demo-1': [ // Kubota KX040-4 Mini Excavator
      {
        id: 'demo-att-3',
        equipmentId: 'demo-1',
        name: '24" Digging Bucket',
        description: 'HD excavator bucket with teeth',
        value: 1800,
        serialNumber: 'EXB-24-001',
        createdAt: '2022-04-01T00:00:00Z',
      },
    ],
    'demo-5': [ // CAT 320 Large Excavator
      {
        id: 'demo-att-4',
        equipmentId: 'demo-5',
        name: '48" Digging Bucket',
        description: 'Heavy duty rock bucket',
        value: 4500,
        serialNumber: 'EXB-48HD-001',
        createdAt: '2020-09-01T00:00:00Z',
      },
      {
        id: 'demo-att-5',
        equipmentId: 'demo-5',
        name: 'Hydraulic Thumb',
        description: 'Mechanical thumb for material handling',
        value: 3200,
        serialNumber: 'THB-320-001',
        createdAt: '2020-09-15T00:00:00Z',
      },
    ],
  },
  business: {
    // Same as professional plus additional attachments (10 total)
    'demo-3': [
      {
        id: 'demo-att-1',
        equipmentId: 'demo-3',
        name: '72" General Purpose Bucket',
        description: 'Standard dirt bucket with bolt-on edge',
        value: 2800,
        serialNumber: 'BKT-72GP-001',
        createdAt: '2021-07-15T00:00:00Z',
      },
      {
        id: 'demo-att-2',
        equipmentId: 'demo-3',
        name: '48" Pallet Forks',
        description: '4000lb capacity pallet forks',
        value: 1500,
        serialNumber: 'FRK-48-001',
        createdAt: '2021-07-15T00:00:00Z',
      },
      {
        id: 'demo-att-6',
        equipmentId: 'demo-3',
        name: '72" Grapple Bucket',
        description: 'Root grapple for debris handling',
        value: 3500,
        serialNumber: 'GRP-72-001',
        createdAt: '2021-08-01T00:00:00Z',
      },
    ],
    'demo-1': [
      {
        id: 'demo-att-3',
        equipmentId: 'demo-1',
        name: '24" Digging Bucket',
        description: 'HD excavator bucket with teeth',
        value: 1800,
        serialNumber: 'EXB-24-001',
        createdAt: '2022-04-01T00:00:00Z',
      },
      {
        id: 'demo-att-7',
        equipmentId: 'demo-1',
        name: '36" Grading Bucket',
        description: 'Smooth edge for finish grading',
        value: 2200,
        serialNumber: 'EXB-36GR-001',
        createdAt: '2022-05-01T00:00:00Z',
      },
    ],
    'demo-5': [
      {
        id: 'demo-att-4',
        equipmentId: 'demo-5',
        name: '48" Digging Bucket',
        description: 'Heavy duty rock bucket',
        value: 4500,
        serialNumber: 'EXB-48HD-001',
        createdAt: '2020-09-01T00:00:00Z',
      },
      {
        id: 'demo-att-5',
        equipmentId: 'demo-5',
        name: 'Hydraulic Thumb',
        description: 'Mechanical thumb for material handling',
        value: 3200,
        serialNumber: 'THB-320-001',
        createdAt: '2020-09-15T00:00:00Z',
      },
      {
        id: 'demo-att-8',
        equipmentId: 'demo-5',
        name: '60" Cleanup Bucket',
        description: 'Wide bucket for cleanup work',
        value: 5200,
        serialNumber: 'EXB-60CL-001',
        createdAt: '2020-10-01T00:00:00Z',
      },
    ],
    'demo-6': [ // John Deere 310SL
      {
        id: 'demo-att-9',
        equipmentId: 'demo-6',
        name: '24" Backhoe Bucket',
        description: 'Standard digging bucket',
        value: 1600,
        serialNumber: 'BHB-24-001',
        createdAt: '2021-04-01T00:00:00Z',
      },
      {
        id: 'demo-att-10',
        equipmentId: 'demo-6',
        name: '12" Trenching Bucket',
        description: 'Narrow bucket for utility trenching',
        value: 1200,
        serialNumber: 'BHB-12TR-001',
        createdAt: '2021-04-15T00:00:00Z',
      },
    ],
  },
};

export function getDemoAttachmentsForPlan(plan: SubscriptionPlan): Record<string, EquipmentAttachment[]> {
  return DEMO_ATTACHMENTS[plan] || {};
}

// Demo usage data per plan - shows realistic usage near plan limits
export const DEMO_USAGE: Record<SubscriptionPlan, UsageState> = {
  free: {
    equipmentCount: 4,
    attachmentCount: 0,
    totalItemCount: 4,
    storageUsedBytes: 50 * 1024 * 1024, // 50MB (50% of 100MB limit)
    loading: false,
  },
  professional: {
    equipmentCount: 30,
    attachmentCount: 5,
    totalItemCount: 35,
    storageUsedBytes: 1.2 * 1024 * 1024 * 1024, // 1.2GB (60% of 2GB limit)
    loading: false,
  },
  business: {
    equipmentCount: 140,
    attachmentCount: 10,
    totalItemCount: 150,
    storageUsedBytes: 8 * 1024 * 1024 * 1024, // 8GB
    loading: false,
  },
};

// Demo equipment datasets for each tier
const FREE_TIER_EQUIPMENT: Equipment[] = [
  {
    id: 'demo-1',
    name: '2022 Kubota KX040-4',
    category: 'Excavator – Compact (≤ 6 ton)',
    status: 'Active',
    assetId: 'EX-001',
    make: 'Kubota',
    model: 'KX040-4',
    year: 2022,
    serialVin: 'DEMO123456',
    purchaseDate: '2022-03-15',
    purchasePrice: 58000,
    salesTax: 4640,
    freightSetup: 1200,
    otherCapEx: 0,
    cogsPercent: 25,
    replacementCostNew: 72000,
    financingType: 'financed',
    depositAmount: 10000,
    financedAmount: 53840,
    monthlyPayment: 985,
    termMonths: 60,
    buyoutAmount: 1,
    financingStartDate: '2022-03-15',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-2',
    name: '2023 Ford F-250 XL',
    category: 'Vehicle (Light-Duty)',
    status: 'Active',
    assetId: 'TK-001',
    make: 'Ford',
    model: 'F-250 XL',
    year: 2023,
    serialVin: 'DEMO789012',
    purchaseDate: '2023-01-10',
    purchasePrice: 52000,
    salesTax: 4160,
    freightSetup: 500,
    otherCapEx: 2500,
    cogsPercent: 20,
    replacementCostNew: 58000,
    financingType: 'leased',
    depositAmount: 5000,
    financedAmount: 54160,
    monthlyPayment: 750,
    termMonths: 48,
    buyoutAmount: 15000,
    financingStartDate: '2023-01-10',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-3',
    name: '2021 Bobcat S570',
    category: 'Loader – Skid Steer',
    status: 'Active',
    assetId: 'SS-001',
    make: 'Bobcat',
    model: 'S570',
    year: 2021,
    serialVin: 'DEMO345678',
    purchaseDate: '2021-06-20',
    purchasePrice: 42000,
    salesTax: 3360,
    freightSetup: 800,
    otherCapEx: 1500,
    cogsPercent: 22,
    replacementCostNew: 52000,
    financingType: 'owned',
    depositAmount: 0,
    financedAmount: 0,
    monthlyPayment: 0,
    termMonths: 0,
    buyoutAmount: 0,
    purchaseCondition: 'used',
    allocationType: 'operational',
  },
  {
    id: 'demo-4',
    name: '2023 Big Tex 14ET',
    category: 'Trailer',
    status: 'Active',
    assetId: 'TR-001',
    make: 'Big Tex',
    model: '14ET',
    year: 2023,
    serialVin: 'DEMO901234',
    purchaseDate: '2023-04-05',
    purchasePrice: 8500,
    salesTax: 680,
    freightSetup: 0,
    otherCapEx: 200,
    cogsPercent: 15,
    replacementCostNew: 9500,
    financingType: 'owned',
    depositAmount: 0,
    financedAmount: 0,
    monthlyPayment: 0,
    termMonths: 0,
    buyoutAmount: 0,
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
];

const PROFESSIONAL_TIER_EQUIPMENT: Equipment[] = [
  ...FREE_TIER_EQUIPMENT,
  // Add more equipment to simulate professional tier usage
  {
    id: 'demo-5',
    name: '2020 CAT 320',
    category: 'Excavator – Large (12+ ton)',
    status: 'Active',
    assetId: 'EX-002',
    make: 'Caterpillar',
    model: '320',
    year: 2020,
    purchaseDate: '2020-08-12',
    purchasePrice: 185000,
    salesTax: 14800,
    freightSetup: 3500,
    otherCapEx: 0,
    cogsPercent: 28,
    replacementCostNew: 225000,
    financingType: 'financed',
    depositAmount: 40000,
    financedAmount: 163300,
    monthlyPayment: 2850,
    termMonths: 60,
    buyoutAmount: 1,
    financingStartDate: '2020-08-12',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-6',
    name: '2021 John Deere 310SL',
    category: 'Loader – Mid-Size',
    status: 'Active',
    assetId: 'BH-001',
    make: 'John Deere',
    model: '310SL',
    year: 2021,
    purchaseDate: '2021-03-22',
    purchasePrice: 95000,
    salesTax: 7600,
    freightSetup: 1800,
    otherCapEx: 500,
    cogsPercent: 24,
    replacementCostNew: 115000,
    financingType: 'financed',
    depositAmount: 20000,
    financedAmount: 84900,
    monthlyPayment: 1550,
    termMonths: 60,
    buyoutAmount: 1,
    financingStartDate: '2021-03-22',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-7',
    name: '2022 Volvo A25G',
    category: 'Vehicle (Commercial)',
    status: 'Active',
    assetId: 'ADT-001',
    make: 'Volvo',
    model: 'A25G',
    year: 2022,
    purchaseDate: '2022-05-18',
    purchasePrice: 320000,
    salesTax: 25600,
    freightSetup: 5000,
    otherCapEx: 0,
    cogsPercent: 30,
    replacementCostNew: 385000,
    financingType: 'leased',
    depositAmount: 50000,
    financedAmount: 300600,
    monthlyPayment: 5200,
    termMonths: 60,
    buyoutAmount: 80000,
    financingStartDate: '2022-05-18',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-8',
    name: '2019 CAT D6T',
    category: 'Compaction (Heavy)',
    status: 'Active',
    assetId: 'DZ-001',
    make: 'Caterpillar',
    model: 'D6T',
    year: 2019,
    purchaseDate: '2019-11-10',
    purchasePrice: 275000,
    salesTax: 22000,
    freightSetup: 4500,
    otherCapEx: 2000,
    cogsPercent: 28,
    replacementCostNew: 340000,
    financingType: 'owned',
    depositAmount: 0,
    financedAmount: 0,
    monthlyPayment: 0,
    termMonths: 0,
    buyoutAmount: 0,
    purchaseCondition: 'used',
    allocationType: 'operational',
  },
  {
    id: 'demo-9',
    name: '2023 Kenworth T880',
    category: 'Vehicle (Commercial)',
    status: 'Active',
    assetId: 'DT-001',
    make: 'Kenworth',
    model: 'T880',
    year: 2023,
    purchaseDate: '2023-02-28',
    purchasePrice: 165000,
    salesTax: 13200,
    freightSetup: 1500,
    otherCapEx: 3500,
    cogsPercent: 22,
    replacementCostNew: 185000,
    financingType: 'financed',
    depositAmount: 30000,
    financedAmount: 153200,
    monthlyPayment: 2650,
    termMonths: 60,
    buyoutAmount: 1,
    financingStartDate: '2023-02-28',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
  {
    id: 'demo-10',
    name: '2020 Case CX80C',
    category: 'Excavator – Mid-Size (6–12 ton)',
    status: 'Active',
    assetId: 'EX-003',
    make: 'Case',
    model: 'CX80C',
    year: 2020,
    purchaseDate: '2020-04-15',
    purchasePrice: 78000,
    salesTax: 6240,
    freightSetup: 1500,
    otherCapEx: 800,
    cogsPercent: 24,
    replacementCostNew: 95000,
    financingType: 'financed',
    depositAmount: 15000,
    financedAmount: 71540,
    monthlyPayment: 1250,
    termMonths: 60,
    buyoutAmount: 1,
    financingStartDate: '2020-04-15',
    purchaseCondition: 'new',
    allocationType: 'operational',
  },
];

// For business tier, use the professional equipment
const BUSINESS_TIER_EQUIPMENT: Equipment[] = PROFESSIONAL_TIER_EQUIPMENT;

export const DEMO_EQUIPMENT: Record<SubscriptionPlan, Equipment[]> = {
  free: FREE_TIER_EQUIPMENT,
  professional: PROFESSIONAL_TIER_EQUIPMENT,
  business: BUSINESS_TIER_EQUIPMENT,
};

export function getDemoEquipmentForPlan(plan: SubscriptionPlan): Equipment[] {
  return DEMO_EQUIPMENT[plan];
}
